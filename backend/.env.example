# =================================================================
# LinkedIn Recommendation Writer - Environment Configuration
# =================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# =================================================================
# APPLICATION SETTINGS
# =================================================================
ENVIRONMENT=development  # development, staging, production
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
API_RELOAD=true
API_WORKERS=1

# =================================================================
# SECURITY SETTINGS
# =================================================================
# Secret key for JWT tokens and other cryptographic operations
# Generate a secure random key: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-super-secure-secret-key-here-32-chars-minimum

# JWT Configuration
ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_ALGORITHM=HS256

# Admin emails (comma-separated list of emails that will be granted admin role on registration)
ADMIN_EMAILS=admin@example.com

# =================================================================
# EXTERNAL API KEYS (HIGH SECURITY RISK)
# =================================================================
# GitHub API Token - Required for GitHub data access
# Generate at: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_your_github_personal_access_token_here

# Google Gemini API Key - Required for AI recommendations
# Generate at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIza_your_gemini_api_key_here

# =================================================================
# AI QUALITY SETTINGS
# =================================================================
# Quality tier: fast (cheapest), balanced (recommended), quality (best output)
# - fast: gemini-2.5-flash-lite - Fastest, cheapest, good for testing
# - balanced: gemini-2.0-flash - Good balance of quality and speed (recommended)
# - quality: gemini-1.5-pro - Highest quality, slower, more expensive
AI_QUALITY_TIER=balanced

# Gemini model settings (can override quality tier)
GEMINI_MODEL=gemini-2.5-flash-lite
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=2048

# Quality gate settings - automatically retry if output quality is low
AI_ENABLE_QUALITY_GATE=true
AI_QUALITY_GATE_MIN_SCORE=65
AI_QUALITY_GATE_MAX_RETRIES=3

# Parallel generation - generate multiple options concurrently (faster)
AI_PARALLEL_GENERATION=true

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
# PostgreSQL connection string with async driver
DATABASE_URL=postgresql+asyncpg://username:password@localhost:5432/database_name

# Database connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# =================================================================
# REDIS CONFIGURATION (Optional - for caching)
# =================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_TIMEOUT=5
REDIS_DEFAULT_TTL=3600

# =================================================================
# CORS CONFIGURATION
# =================================================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000

# =================================================================
# RATE LIMITING
# =================================================================
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=120
RATE_LIMIT_BURST_SIZE=30

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# =================================================================
# INITIALIZATION FLAGS
# =================================================================
INIT_DB=true
RUN_MIGRATIONS=false

# =================================================================
# FEATURE FLAGS
# =================================================================
ENABLE_METRICS=false
ENABLE_TRACING=false

# =================================================================
# SECURITY FEATURE FLAGS
# =================================================================
# Enable comprehensive security middleware
ENABLE_SECURITY_HEADERS=true
ENABLE_INPUT_SANITIZATION=true
ENABLE_PII_FILTERING=true
ENABLE_REQUEST_SIZE_LIMIT=true

# =================================================================
# MONITORING & ALERTING
# =================================================================
# Optional: Enable Prometheus metrics
ENABLE_PROMETHEUS_METRICS=false

# =================================================================
# STRIPE CONFIGURATION (Billing & Subscriptions)
# =================================================================
# Get your API keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Webhook secret for verifying Stripe webhook signatures
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs for subscription plans
# Create products at: https://dashboard.stripe.com/products
STRIPE_PRICE_ID_PRO=price_your_pro_plan_price_id
STRIPE_PRICE_ID_TEAM=price_your_team_plan_price_id

# Trial period in days (0 to disable trials)
STRIPE_TRIAL_DAYS=7

# =================================================================
# BILLING FEATURE FLAGS
# =================================================================
BILLING_ENABLED=true
TRIALS_ENABLED=true

# =================================================================
# DEVELOPMENT SETTINGS
# =================================================================
# These should be false in production
API_DOCS_ENABLED=true
API_REDOC_ENABLED=true
